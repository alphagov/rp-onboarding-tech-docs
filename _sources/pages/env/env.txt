.. _env:

GOV.UK Verify environments
================================================

An environment is a fully-working deployment of the GOV.UK Verify hub. GOV.UK Verify maintains a number of environments for development, testing, and operational purposes. As a government service you will need to work in the integration and production environments. 

.. rubric:: What is the integration environment?


The integration environment is a production-sized deployment of the GOV.UK Verify hub. It's a restricted environment for security reasons. 

The purpose of the integration environment is to make sure that your service operates with the GOV.UK Verify hub. The integration environment is designed to test full end-to-end flows and to showcase a working system. It's not a development environment. Each government service usually has a single connection to the integration environment. 


.. rubric::  What is the production environment?


The production environment is where you deploy your live end-to-end service. It's a restricted environment for security reasons. 

.. rubric:: What do you need to do?

Before you access the integration environment, run :ref:`SAML compliance tests <samlComplianceTool>` to make sure that your service is compliant with the SAML profile.  On successful completion of compliance tests, you'll access the integration environment. For an outline of the technical steps in the onboarding process, see `Stage 4: Build and integration testing <http://alphagov.github.io/identity-assurance-documentation/stage4/Stage4.html>`_ in the onboarding guide.

To access the integration environment: 

#. Send the GOV.UK Verify operations team the IP address of the host running the Matching Service Adapter. This allows GOV.UK Verify to put in place firewall rules so the hub can communicate with the Matching Service Adapter. 

#. Send the GOV.UK Verify operations team the IP addresses of the browsers that you will use when testing in the integration environment. This is required because access to the hub and test identity providers in the integration environment is restricted by IP address.

#. Obtain :ref:`signed certificates <pkiRequestCert>` for the environment from the appropriate IDAP certificate authority. 

#. Send the GOV.UK Verify operations team your signed certificates for the environment. 

#. Provide additional details of your service in the ':ref:`Request access to an environment <envRequestform>`' form.

In the integration environment, you'll run :ref:`end-to-end testing <envEndToEndTests>`. Before doing this, you must provide the GOV.UK Verify operations team with test user information. GOV.UK Verify loads your test user information into the test identity providers in the integration environment. 

On successful completion of end-to-end testing you'll access the production environment. To access the production environment use the same procedure as above but skip step 2. 

.. toctree::
   :hidden:

   envRequestform
   envEndToEndTests
  

